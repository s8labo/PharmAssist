<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        html,
        body {
            height: 100%;
            margin: 0;
        }

        #webchat {
            height: 100%;
            width: 100%;
        }
    </style>
    <script crossorigin="anonymous" src="https://cdn.botframework.com/botframework-webchat/latest/webchat.js"></script>
</head>
<body>
    <div id="webchat" role="main"></div>
    <script>
        (async function () {
            const res = await fetch('https://webchat-mockbot.azurewebsites.net/directline/token', { method: 'POST' });
            const { token } = await res.json();

            const store = window.WebChat.createStore({}, ({ dispatch }) => next => action => {
                if (action.type === 'DIRECT_LINE/CONNECT_FULFILLED') {
                    // Sending a typing indicator before sending a message
                    dispatch({ type: 'WEB_CHAT/SEND_MESSAGE', payload: { text: 'echo-typing' } });
                }

                return next(action);
            });

            window.WebChat.renderWebChat(
                {
                    directLine: window.WebChat.createDirectLine({ token }),
                    sendTypingIndicator: true,
                    store
                },
                document.getElementById('webchat')
            );

            document.querySelector('#webchat > *').focus();
        })().catch(err => console.error(err));
    </script>
</body>
</html>


<!-- <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        body {
            margin: 0;
            padding: 0;
        }

        h1 {
            text-align: center;
            padding: 20px;
            background-color: #f0f0f0;
        }

        #webchat {
            height: 80vh; /* Adjust the percentage as needed */
            width: 100%;
            /* display: flex;
            justify-content: center;
            align-items: center; */
        }

        /* .typing-animation {
            font-size: 24px; /* Adjust the font size as needed */
            /* animation: typingAnimation 10000s infinite; Adjust the animation duration as needed */
        /* }

        @keyframes typingAnimation {
            0% {
                content: ".";
            }
            33% {
                content: "..";
            }
            66% {
                content: "...";
            }
            100% {
                content: "";
            } */
        } */
    </style>
    <script src="https://cdn.botframework.com/botframework-webchat/latest/webchat.js"></script>
</head>
<body>
    <div>
        <h3>Dein PharmAssistant: ChatBot f√ºr Medikationsanalysen</h3>
    </div>
    <div id="webchat" role="main">
        <div class="typing-animation"></div>
    </div>
    <script>
        const styleSet = window.WebChat.createStyleSet({
            rootHeight: '100%',
            rootWidth: '100%',
            backgroundColor: 'paleturquoise',
            // typingAnimationBackgroundImage: null,
            typingAnimationDuration: 5000, // Adjust the duration as needed
            typingAnimationHeight: 20,
            typingAnimationWidth: 64
        });

        const avatarOptions = {
            botAvatarInitials: 'PA',
            userAvatarInitials: 'U'
        };

        window.WebChat.renderWebChat({
            directLine: window.WebChat.createDirectLine({
                token: 'AavR0Oh2MoQ.k8agJWGKvkYtM92I0013G-A3eObi4iVxVVGEcZFYLY4'
            }),
            styleSet,
            styleOptions: avatarOptions
        }, document.getElementById('webchat'));
    </script>
</body>
</html> -->
